%MDL_YOUBOT Create model of KUKA youBot manipulator
%
% using standard DH conventions.
%[[ cos(offset2 + q2)*(sin(offset3 + q3)*(cos(offset4 + q4)*((769*d2^2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/3000 - (d2*((769*a1)/1000 + (769*a2*cos(offset2 + q2))/1000 + (769*a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/1000 - (769*d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/2000))/2 + d2*((91*cos(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000 + (91*sin(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000) + (91*d3^2*cos(offset5 + q5)^2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/3000 + (91*d3^2*sin(offset5 + q5)^2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/3000) - sin(offset4 + q4)*((25382719845424343*cos(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/147573952589676412928 - (25382719845424343*sin(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)))/147573952589676412928) + (6057910753806217*cos(offset2 + q2)*sin(offset3 + q3))/36893488147419103232 + (6057910753806217*cos(offset3 + q3)*sin(offset2 + q2))/36893488147419103232) + (a2*((659*a1)/500 + (659*a2*cos(offset2 + q2))/1000))/2 + cos(offset3 + q3)*(cos(offset4 + q4)*((25382719845424343*cos(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/147573952589676412928 - (25382719845424343*sin(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)))/147573952589676412928) + a3*((769*a1)/1000 + (769*a2*cos(offset2 + q2))/1000 + (769*a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/1000 - (769*d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/2000 + (91*cos(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000 + (91*sin(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000) + sin(offset4 + q4)*((769*d2^2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/3000 - (d2*((769*a1)/1000 + (769*a2*cos(offset2 + q2))/1000 + (769*a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/1000 - (769*d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/2000))/2 + d2*((91*cos(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000 + (91*sin(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000) + (91*d3^2*cos(offset5 + q5)^2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/3000 + (91*d3^2*sin(offset5 + q5)^2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/3000) + (a3*((821*a1)/1000 + (821*a2*cos(offset2 + q2))/1000 + (821*a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/2000))/2 + (821*a3^2*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/3000) + a2*((159*a1)/100 + (159*a2*cos(offset2 + q2))/100 + (2359*a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/2000 - (769*d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/2000 + (91*cos(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000 + (91*sin(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000) + (659*a2^2*cos(offset2 + q2))/1500) + a1*((727*a1)/250 + (2249*a2*cos(offset2 + q2))/1000 + (2359*a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/2000 - (769*d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/2000 + (91*cos(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000 + (91*sin(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000) + sin(offset2 + q2)*((2431280868914919*sin(offset2 + q2))/9223372036854775808 + cos(offset3 + q3)*(cos(offset4 + q4)*((769*d2^2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/3000 - (d2*((769*a1)/1000 + (769*a2*cos(offset2 + q2))/1000 + (769*a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/1000 - (769*d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/2000))/2 + d2*((91*cos(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000 + (91*sin(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000) + (91*d3^2*cos(offset5 + q5)^2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/3000 + (91*d3^2*sin(offset5 + q5)^2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/3000) - sin(offset4 + q4)*((25382719845424343*cos(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/147573952589676412928 - (25382719845424343*sin(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)))/147573952589676412928) + (6057910753806217*cos(offset2 + q2)*sin(offset3 + q3))/36893488147419103232 + (6057910753806217*cos(offset3 + q3)*sin(offset2 + q2))/36893488147419103232) - sin(offset3 + q3)*(cos(offset4 + q4)*((25382719845424343*cos(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/147573952589676412928 - (25382719845424343*sin(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)))/147573952589676412928) + a3*((769*a1)/1000 + (769*a2*cos(offset2 + q2))/1000 + (769*a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/1000 - (769*d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/2000 + (91*cos(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000 + (91*sin(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000) + sin(offset4 + q4)*((769*d2^2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/3000 - (d2*((769*a1)/1000 + (769*a2*cos(offset2 + q2))/1000 + (769*a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/1000 - (769*d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/2000))/2 + d2*((91*cos(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000 + (91*sin(offset5 + q5)^2*(a1 + a2*cos(offset2 + q2) + a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)) + d2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))))/1000) + (91*d3^2*cos(offset5 + q5)^2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/3000 + (91*d3^2*sin(offset5 + q5)^2*(cos(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)) + sin(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3))))/3000) + (a3*((821*a1)/1000 + (821*a2*cos(offset2 + q2))/1000 + (821*a3*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/2000))/2 + (821*a3^2*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/3000)) + (417*a1^2)/4000,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  0, (2685845937132111*sin(offset4 + q4)*(cos(offset2 + q2)*sin(offset3 + q3) + cos(offset3 + q3)*sin(offset2 + q2)))/147573952589676412928 - (2685845937132111*cos(offset4 + q4)*(cos(offset2 + q2)*cos(offset3 + q3) - sin(offset2 + q2)*sin(offset3 + q3)))/147573952589676412928],
[                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              0, d2*((91*cos(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000 + (91*sin(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000) + (91*d3^2*cos(offset5 + q5)^2)/3000 - (d2*((769*sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)))/1000 - (769*d2)/2000 + (769*a2*cos(offset4 + q4)*sin(offset3 + q3))/1000))/2 + (91*d3^2*sin(offset5 + q5)^2)/3000 + (a3*((821*a3)/2000 + (821*a2*cos(offset3 + q3))/1000))/2 + a3*(sin(offset4 + q4)*((769*sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)))/1000 - (769*d2)/2000 + (91*cos(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000 + (91*sin(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000 + (769*a2*cos(offset4 + q4)*sin(offset3 + q3))/1000) + cos(offset4 + q4)*((43*cos(offset4 + q4)*(a3 + a2*cos(offset3 + q3)))/50 - (43*a2*sin(offset3 + q3)*sin(offset4 + q4))/50)) + (4613*a2^2)/6000 + (821*a3^2)/3000 + (769*d2^2)/3000 + a2*(sin(offset3 + q3)*(cos(offset4 + q4)*((769*sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)))/1000 - (769*d2)/2000 + (91*cos(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000 + (91*sin(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000 + (769*a2*cos(offset4 + q4)*sin(offset3 + q3))/1000) + (821*a2*sin(offset3 + q3))/1000 - sin(offset4 + q4)*((43*cos(offset4 + q4)*(a3 + a2*cos(offset3 + q3)))/50 - (43*a2*sin(offset3 + q3)*sin(offset4 + q4))/50)) + cos(offset3 + q3)*((821*a3)/2000 + (821*a2*cos(offset3 + q3))/1000 + sin(offset4 + q4)*((769*sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)))/1000 - (769*d2)/2000 + (91*cos(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000 + (91*sin(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000 + (769*a2*cos(offset4 + q4)*sin(offset3 + q3))/1000) + cos(offset4 + q4)*((43*cos(offset4 + q4)*(a3 + a2*cos(offset3 + q3)))/50 - (43*a2*sin(offset3 + q3)*sin(offset4 + q4))/50))), d2*((91*cos(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000 + (91*sin(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000) + (91*d3^2*cos(offset5 + q5)^2)/3000 - (d2*((769*sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)))/1000 - (769*d2)/2000 + (769*a2*cos(offset4 + q4)*sin(offset3 + q3))/1000))/2 + (91*d3^2*sin(offset5 + q5)^2)/3000 + (a3*((821*a3)/2000 + (821*a2*cos(offset3 + q3))/1000))/2 + a3*(sin(offset4 + q4)*((769*sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)))/1000 - (769*d2)/2000 + (91*cos(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000 + (91*sin(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000 + (769*a2*cos(offset4 + q4)*sin(offset3 + q3))/1000) + cos(offset4 + q4)*((43*cos(offset4 + q4)*(a3 + a2*cos(offset3 + q3)))/50 - (43*a2*sin(offset3 + q3)*sin(offset4 + q4))/50)) + (821*a3^2)/3000 + (769*d2^2)/3000, d2*((91*cos(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000 + (91*sin(offset5 + q5)^2*(d2 + sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)) + a2*cos(offset4 + q4)*sin(offset3 + q3)))/1000) + (91*d3^2*cos(offset5 + q5)^2)/3000 - (d2*((769*sin(offset4 + q4)*(a3 + a2*cos(offset3 + q3)))/1000 - (769*d2)/2000 + (769*a2*cos(offset4 + q4)*sin(offset3 + q3))/1000))/2 + (91*d3^2*sin(offset5 + q5)^2)/3000 + (769*d2^2)/3000,                                                                                                                                                                                                                                                                               0],
[                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         (91*d3^2*cos(offset5 + q5)^2)/3000 + (91*d3^2*sin(offset5 + q5)^2)/3000 + a2*(sin(offset3 + q3)*(cos(offset4 + q4)*((769*a3*sin(offset4 + q4))/1000 - (769*d2)/2000 + (91*cos(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000 + (91*sin(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000) - (43*a3*cos(offset4 + q4)*sin(offset4 + q4))/50) + cos(offset3 + q3)*((821*a3)/2000 + (43*a3*cos(offset4 + q4)^2)/50 + sin(offset4 + q4)*((769*a3*sin(offset4 + q4))/1000 - (769*d2)/2000 + (91*cos(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000 + (91*sin(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000))) + (d2*((769*d2)/2000 - (769*a3*sin(offset4 + q4))/1000))/2 + d2*((91*cos(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000 + (91*sin(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000) + (5747*a3^2)/12000 + (769*d2^2)/3000 + a3*((43*a3*cos(offset4 + q4)^2)/50 + sin(offset4 + q4)*((769*a3*sin(offset4 + q4))/1000 - (769*d2)/2000 + (91*cos(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000 + (91*sin(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000)),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        (91*d3^2*cos(offset5 + q5)^2)/3000 + (91*d3^2*sin(offset5 + q5)^2)/3000 + (d2*((769*d2)/2000 - (769*a3*sin(offset4 + q4))/1000))/2 + d2*((91*cos(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000 + (91*sin(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000) + (5747*a3^2)/12000 + (769*d2^2)/3000 + a3*((43*a3*cos(offset4 + q4)^2)/50 + sin(offset4 + q4)*((769*a3*sin(offset4 + q4))/1000 - (769*d2)/2000 + (91*cos(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000 + (91*sin(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000)),                                                                                                                                                                                                                  (91*d3^2*cos(offset5 + q5)^2)/3000 + (91*d3^2*sin(offset5 + q5)^2)/3000 + (d2*((769*d2)/2000 - (769*a3*sin(offset4 + q4))/1000))/2 + d2*((91*cos(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000 + (91*sin(offset5 + q5)^2*(d2 + a3*sin(offset4 + q4)))/1000) + (769*d2^2)/3000,                                                                                                                                                                                                                                                                               0],
[                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             a2*(cos(offset3 + q3)*sin(offset4 + q4)*((91*d2*cos(offset5 + q5)^2)/1000 - (769*d2)/2000 + (91*d2*sin(offset5 + q5)^2)/1000) + cos(offset4 + q4)*sin(offset3 + q3)*((91*d2*cos(offset5 + q5)^2)/1000 - (769*d2)/2000 + (91*d2*sin(offset5 + q5)^2)/1000)) + (91*d3^2*cos(offset5 + q5)^2)/3000 + (91*d3^2*sin(offset5 + q5)^2)/3000 + d2*((91*d2*cos(offset5 + q5)^2)/1000 + (91*d2*sin(offset5 + q5)^2)/1000) + (5383*d2^2)/12000 + a3*sin(offset4 + q4)*((91*d2*cos(offset5 + q5)^2)/1000 - (769*d2)/2000 + (91*d2*sin(offset5 + q5)^2)/1000),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              (91*d3^2*cos(offset5 + q5)^2)/3000 + (91*d3^2*sin(offset5 + q5)^2)/3000 + d2*((91*d2*cos(offset5 + q5)^2)/1000 + (91*d2*sin(offset5 + q5)^2)/1000) + (5383*d2^2)/12000 + a3*sin(offset4 + q4)*((91*d2*cos(offset5 + q5)^2)/1000 - (769*d2)/2000 + (91*d2*sin(offset5 + q5)^2)/1000),                                                                                                                                                                                                                                                                                                                             (91*d3^2*cos(offset5 + q5)^2)/3000 + (91*d3^2*sin(offset5 + q5)^2)/3000 + d2*((91*d2*cos(offset5 + q5)^2)/1000 + (91*d2*sin(offset5 + q5)^2)/1000) + (5383*d2^2)/12000,                                                                                                                                                                                                                                                                               0],
[                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              sin(offset2 + q2)*((2685845937132111*cos(offset3 + q3)*sin(offset4 + q4))/147573952589676412928 + (2685845937132111*cos(offset4 + q4)*sin(offset3 + q3))/147573952589676412928) - cos(offset2 + q2)*((2685845937132111*cos(offset3 + q3)*cos(offset4 + q4))/147573952589676412928 - (2685845937132111*sin(offset3 + q3)*sin(offset4 + q4))/147573952589676412928),                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                0,                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  0,                                                                                                                                                                                                                                          2685845937132111/147573952589676412928]]

% Also define the workspace vectors:
%   qz         zero joint angle configuration
%   qr         arm along +ve x-axis configuration
%
%
% Notes::
% - SI units of metres are used.
% - Unlike most other mdl_xxx scripts this one is actually a function that
%   behaves like a script and writes to the global workspace.
%

% MODEL: KUKA, youbot, 5DOF, standard_DH

function r = mdl_youbot_mdh_sym()
    
    deg = pi/180;
    
    syms a1 a2 a3 d1 d2 d3
%     syms d1 d5 a2 a3 a4 
%     
    rl = 0.02; %!!! Just imaging radius of links.

    mass = [0.139 1.318 0.821 0.769 0.091];

    center_of_mass = [
        a1/2,   0,      -0.03
        a2/2,   0,      0
        a3/2,   0,      0
        0,      d2/2,   0
        0,      0,      0
    ];

    % in COG reference frame
    inertia = [
        [0,                 0,                  0.5*mass(1)*a1^2 0, 0, 0]
        [0.5*mass(2)*rl^2,  1/3*mass(2)*a2^2,   1/3*mass(2)*a2^2, 0, 0, 0]
        [0.5*mass(3)*rl^2, 	1/3*mass(3)*a3^2, 	1/3*mass(3)*a3^2, 0, 0, 0]
        [1/3*mass(4)*d2^2, 	0.5*mass(4)*rl^2, 	1/3*mass(4)*d2^2, 0, 0, 0]
        [1/3*mass(5)*d3^2,  1/3*mass(5)*d3^2,   0.5*mass(5)*rl^2, 0, 0, 0]
    ];

    % joinur5t parameters0
    Jm = [13.91 13.91 13.57 9.32 3.570] * 10e-6; % rotor + gear
    %G = [156 156 100 71 71]; % gear ratio
    B = [1.2 1.2 1.2 1.2 1.2] * 10e-4; % actuator viscous friction coefficient
    %          links(i).r = center_of_mass(i,:);
%          links(i).I = inertia(i, :);
%          links(i).Jm = Jm(i);
%          links(i).B = B(i);

    % for real arm all joint rotations inversed
%     offset = [169 65+90 -151 102.5+90 165] * deg;

    syms offset1 offset2 offset3 offset4 offset5
    offset = [offset1 offset2 offset3 offset4 offset5];
    
    clear L

    %            theta    d        a    alpha
    L(1) = Link([  0      d1    0       0       0], 'modified');
    L(2) = Link([  0      0.       a1   pi/2    0], 'modified');
    L(3) = Link([  0      0        a2   0       0], 'modified');
    L(4) = Link([  0      0        a3   0       0], 'modified');
    L(5) = Link([  0      d2       0   pi/2    0], 'modified');
    
    robot = SerialLink(L, 'name', 'youbot_mdh', 'manufacturer', 'KUKA');
    
    % add dynamics' parameters to the links
    links = robot.links;
    for i=1:5
         links(i).m = mass(i);
          links(i).r = center_of_mass(i,:);
          links(i).I = inertia(i, :);
          links(i).Jm = Jm(i);
          links(i).B = B(i);
           links(i).offset = offset(i);
        %links(i).Tc = [0.1 -0.1];
    end

    global yb
    yb = robot;
    
    % place the variables into the global workspace
    if nargin == 1
        r = robot;
    elseif nargin == 0
        assignin('caller', 'youbot_mdh_sym', robot);
        assignin('caller', 'qz', [0 3*pi/4 -pi/4 0 0]); % zero angles
        assignin('caller', 'qr', [0 90 0 90 0]*deg); % vertical pose
    end
end